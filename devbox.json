{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.16.0/.schema/devbox.schema.json",
  "packages": [
    "nodejs@24.11.1",
    "pnpm@10.24.0"
  ],
  "shell": {
    "init_hook": [
      "echo 'Welcome to devbox!' > /dev/null"
    ],
    "scripts": {
      "dev:db": "docker compose up -d postgres",
      "dev:db:stop": "docker compose down",
      "dev": "bash -lc 'set -euo pipefail; docker compose up -d; trap \"docker compose stop\" EXIT; pnpm install --frozen-lockfile; pnpm dev'",
      "prod:up": "docker compose --env-file .env.production -f compose.prod.yaml up -d --build",
      "prod:down": "docker compose --env-file .env.production -f compose.prod.yaml down",
      "reset:db": "docker compose down -v && docker compose up -d postgres",
      "reset:db:prod": "docker compose --env-file .env.production -f compose.prod.yaml down -v && docker compose --env-file .env.production -f compose.prod.yaml up -d --build"
    }
  }
}
